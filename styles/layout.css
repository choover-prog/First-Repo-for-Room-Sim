:root { --left-w: 280px; --right-w: 320px; --dock-h: 220px; }
#app { position:relative; height:100vh; display:grid;
  grid-template-columns: var(--left-w) 1fr var(--right-w);
  grid-template-rows: 1fr var(--dock-h);
  grid-template-areas:
    "left main right"
    "left dock right";
}
#panel-left  { grid-area:left;  overflow:auto; }
#panel-main  { grid-area:main;  position:relative; overflow:hidden; }
#panel-dock  { grid-area:dock;  overflow:auto; }
#panel-right { grid-area:right; overflow:auto; }

/* Collapsed states */
#panel-left.is-collapsed  { width:0; min-width:0; display:none; }
#panel-right.is-collapsed { width:0; min-width:0; display:none; }
#panel-dock.is-collapsed  { height:0; min-height:0; display:none; }

/* Expand handles */
.expand-handle { position:absolute; padding:4px; display:none; }
#expand-left { top:8px; left:8px; }
#expand-right { top:8px; right:8px; }
#expand-bottom { bottom:8px; left:50%; transform:translateX(-50%); }

/* Fullscreen focuses main */
.fullscreen #panel-left, .fullscreen #panel-right, .fullscreen #panel-dock { display:none !important; }
.fullscreen { grid-template-columns: 1fr; grid-template-rows: 1fr; grid-template-areas: "main"; }
.region-header { display:flex; align-items:center; justify-content:space-between; padding:6px 8px; }
.measure-label { position:absolute; pointer-events:none; font-size:12px; background:#1b2330cc; padding:4px 6px; border:1px solid #2a3446; border-radius:6px; transform:translate(-50%,-120%); }
